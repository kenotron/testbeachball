"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const paths_1 = require("./paths");
const getChangedPackages_1 = require("./getChangedPackages");
const git_1 = require("./git");
const monorepo_1 = require("./monorepo");
function isChangeFileNeeded(branch, cwd) {
    console.log(`Checking for changes against "${branch}"`);
    const changedPackages = getChangedPackages_1.getChangedPackages(branch, cwd);
    return changedPackages.length > 0;
}
exports.isChangeFileNeeded = isChangeFileNeeded;
function isGitAvailable(cwd) {
    const result = git_1.git(['--version']);
    const gitRoot = paths_1.findGitRoot(cwd);
    return result.success && gitRoot;
}
exports.isGitAvailable = isGitAvailable;
function isValidTargetBranch(branch) {
    if (branch) {
        return branch.indexOf('/') > -1;
    }
    return false;
}
exports.isValidTargetBranch = isValidTargetBranch;
function isValidPackageName(pkg, cwd) {
    const packages = monorepo_1.getAllPackages(cwd);
    return packages.includes(pkg);
}
exports.isValidPackageName = isValidPackageName;
